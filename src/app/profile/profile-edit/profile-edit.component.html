<div class="section section-pricing">
  <div class="parallax">
    <div class="image" style="
                background-image: url('assets/images/header-profile.jpg')">
    </div>

    <div class="container">
      <div class="content">

        <div class="wrapper fadeInDown">
          <div id="formContent">

            <!-- Header -->
            <div class="fadeIn first">
              <h2>Mon profil</h2>
              <ng-container *ngIf="user">
                <div class="avatar avatar-danger" *ngIf="user.photo">
                  <img src="{{ user.photo }}" alt="{{ user.firstName}} {{user.lastName}}" class="pt-2 pb-1">
                </div>
              </ng-container>
            </div>

            <!-- Edit form -->
            <form [formGroup]="form" class="mt-3" (ngSubmit)="handleSubmit()">

              <div class="form-group">
                <label for="firstName" class="sr-only">Prénom</label>
                <input type="text" id="firstName" class="fadeIn second form-control" placeholder="Prénom"
                  formControlName="firstName" [class.is-invalid]="form.controls['firstName'].invalid  && submitted">
                <p class="invalid-feedback text-danger"
                  *ngIf="form.controls['firstName'].hasError('required') && submitted">
                  Le prénom est obligatoire
                </p>
                <p class="invalid-feedback text-danger">
                  {{ form.controls['firstName'].getError('invalid')}}
                </p>
              </div>

              <div class="form-group">
                <label for="lastName" class="sr-only">Nom de famille</label>
                <input type="text" id="lastName" class="fadeIn second form-control" placeholder="Nom de famille"
                  formControlName="lastName" [class.is-invalid]="form.controls['lastName'].invalid && submitted">
                <p class="invalid-feedback text-danger"
                  *ngIf="form.controls['lastName'].hasError('required') && submitted">
                  Le nom est obligatoire
                </p>
                <p class="invalid-feedback text-danger">
                  {{ form.controls['lastName'].getError('invalid')}}
                </p>
              </div>

              <div class="form-group">
                <label for="email" class="sr-only">Adresse email</label>
                <input type="email" id="email" class="fadeIn second form-control" placeholder="Adresse email"
                  formControlName="email" [class.is-invalid]="form.controls['email'].invalid && submitted">
                <p class="invalid-feedback" *ngIf="form.controls['email'].hasError('required') && submitted">
                  L'email est obligatoire
                </p>
                <p class="invalid-feedback text-danger" *ngIf="form.controls['email'].hasError('email') && submitted">
                  Le format de l'adresse n'est pas valide
                </p>
                <p class="invalid-feedback text-danger">
                  {{ form.controls['email'].getError('invalid')}}
                </p>
              </div>

              <div class="form-group">
                <label for="photo" class="sr-only">URL de la photo de profil</label>
                <input type="text" id="photo" class="fadeIn third form-control" placeholder="URL de la photo de profil"
                  formControlName="photo" [class.is-invalid]="form.controls['photo'].invalid && submitted">
                <p class="invalid-feedback text-danger">
                  {{ form.controls['photo'].getError('invalid')}}
                </p>
              </div>

              <div class="form-group">
                <label for="password" class="sr-only">Mot de passe</label>
                <small id="passwordHelp" class="form-text text-muted">Confirmez votre mot de passe ou créez-en un
                  nouveau</small>
                <input type="password" id="password" class="fadeIn third form-control" formControlName="password"
                  placeholder="Mot de passe" [class.is-invalid]="form.controls['email'].invalid && submitted"
                  aria-describedby="passwordHelp">
                <p class="invalid-feedback text-danger"
                  *ngIf="form.controls['password'].hasError('required') && submitted">
                  Le mot de passe est obligatoire
                </p>
                <p class="invalid-feedback text-danger">
                  {{ form.controls['password'].getError('invalid')}}
                </p>
              </div>

              <button type="submit" class="fadeIn fourth">Modifier</button>

            </form>

          </div>
        </div>
      </div>
    </div>
  </div>
</div>
